<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Login</title>
    <script src="https://cdn.tailwindcss.com"></script>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">
</head>
<body class="bg-blue-400">
<div class="flex justify-center bg-yellow-600  grid grid-rows-1 gap-10 py-20" style="margin-top: 100px; height: 400px; width: 500px; margin-left: 370px;">
   <h1 class="flex justify-center underline">LOGIN</h1>
   <label for="username" class=" flex justify-center gap-6">Username: <input type="text" name="username" class="bg-violet-300"required></label>
    <label for="password" class=" flex justify-center gap-7">Password: <input type="password" name="password" class="bg-violet-300"required></label> 
   <input type="submit" value="Login" onclick="login()" class="border-2 border-solid border-red-500  rounded w-20 bg-sky-300" style="margin-left:100px;">
</div>
</body>
<script>
    function login() {
    var username = document.querySelector('.inputBox input[type="text"]').value;
    var password = document.querySelector('.inputBox input[type="password"]').value;
    var storedData = localStorage.getItem(username); // Retrieve data using the username key

    if (storedData) {
        var parsedData = JSON.parse(storedData); // Convert JSON string back to an object
        var storedUsername = parsedData.username;
        var storedPassword = parsedData.password;

        console.log(username, password, storedUsername, storedPassword);

        if (username === storedUsername && password === storedPassword) {
          window.location.href = `index.html?username=${encodeURIComponent(username)}`; // Redirect to welcome page with username
        } else {
            alert('Invalid username or password.');
        }
    } else {
        alert('User not found. Please sign up first.');
    }
}
</script>
</html>